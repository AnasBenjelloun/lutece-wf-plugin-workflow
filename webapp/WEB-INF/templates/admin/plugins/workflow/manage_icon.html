<#include "macro_workflows.html" />
<style>
.workflow-icon{filter: drop-shadow(5px 5px 10px #222); width: 32px;}
</style>
<@row>
	<@columns>
		<@box style='primary'>
			<@boxHeader titleLevel='h3' i18nTitleKey='workflow.manage_icon.title' boxTools=true skipHeader=true >
				<@tform action='jsp/admin/plugins/workflow/CreateIcon.jsp' class='pull-right'>
					<@button type='submit' name='save' buttonIcon='plus' title='#i18n{workflow.manage_icon.button_create}' size='sm' />
				</@tform>
			</@boxHeader>
			<@boxBody>
				<@table striped=true>
					<@tr>
						<@th>#i18n{workflow.manage_icon.row_icon}</@th>
						<!-- <@th>#i18n{workflow.manage_icon.row_name}</@th> -->
						<@th>#i18n{workflow.manage_workflow.row_actions}</@th>
					</@tr>
					<@tableHeadBodySeparator />
					<#list icon_list as icon>
						<@tr>
							<@td class='d-flex'>
								<span>${icon.name}</span>
								<#assign params = ''>
								<#if icon.width!=-1>
									<#assign params= params + 'width="${icon.width}" '>
								</#if>
								<#if icon.height!=-1>
									<#assign params= params + 'height="${icon.height}" '>
								</#if>
								<@img url='image?resource_type=workflow_icon_img&id=${icon.id}' class='workflow-icon' params=params></@img>
							</@td>
							<@td>
								<@aButton href='jsp/admin/plugins/workflow/ModifyIcon.jsp?id_icon=${icon.id}' buttonIcon='edit' title='#i18n{workflow.manage_icon.title_modify}' hideTitle=['all'] size='sm' />
								<@aButton href='jsp/admin/plugins/workflow/ConfirmRemoveIcon.jsp?id_icon=${icon.id}' buttonIcon='trash' title='#i18n{workflow.manage_icon.title_delete}' hideTitle=['all'] color='danger' size='sm' />
							</@td>
						</@tr>
					</#list>
				</@table>
				<@paginationAdmin paginator=paginator combo=1/>
			</@boxBody>
		</@box>
	</@columns>
</@row>
